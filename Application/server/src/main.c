/**********************************************************************************
 * HEADERS
**********************************************************************************/

#include <stdio.h>

/**********************************************************************************
 * INTERFACES
**********************************************************************************/

#include "server.h"

/**********************************************************************************
 * MAIN
**********************************************************************************/

int main(int argc, char *argv[])
{
    int ret_val = -1;

    setbuf(stdout, NULL);
    setbuf(stdin, NULL);

    ret_val = init_server(argc, argv);

    if(-1 != ret_val)
    {
        run_server();

        ret_val = deinit_server();
    }

    printf("Server exited with value %d\n", ret_val);

    return ret_val;
}
